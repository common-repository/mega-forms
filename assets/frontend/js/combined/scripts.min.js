/* (c) 2024 Mega Forms - https://wpmegaforms.com */
"use strict";const megaForms={context:mfCommonVars.context,ajaxurl:mfCommonVars.ajaxurl,dev_env:mfCommonVars.dev_env,ajax_public_action:"megaforms_public_request",ajax_admin_action:"megaforms_admin_request",actions:{},filters:{},add_action:function(e,t){this.actions[e]||(this.actions[e]=[]);this.actions[e].push(t)},do_action:async function(t,e){if(this.actions[t])for(var n of this.actions[t])try{await n(e)}catch(e){console.error(`Error in ${t} action callback:`,e)}},add_filter:function(e,t){this.filters[e]||(this.filters[e]=[]);this.filters[e].push(t)},apply_filter:async function(t,e,n={}){if(this.filters[t])for(var i of this.filters[t])try{var r=await i(e,n);void 0!==r&&(e=r)}catch(e){console.error(`Error in ${t} filter callback:`,e)}return e},ajax:(i,e="POST")=>{(i=i||{}).isadmin=i.isadmin||!1;i.data=i.data||{};i.callback=i.callback.replace(/-/g,"_")||"";i.before=i.before||!1;i.success=i.success||function(e){console.log(e)};i.fail=i.fail||function(e){console.log(e)};i.error=i.error||!1;i.complete=i.complete||!1;i.debug=i.debug||!1;let t="",n=i.data instanceof FormData,r={type:e,url:megaForms.ajaxurl,success:e=>{if(i.debug)i.success(e);else{e=JSON.parse(e);if(e.success){if(e.fail)"function"==typeof i.fail&&i.fail(e);else if("function"==typeof i.success){delete e.success;delete e.fail;i.success(e)}}else{i.isadmin?alert("AJAX error, check you browser console for more details."):alert("AJAX error, please refersh and try again.");console.log(e)}}},error:(e,t,n)=>{!1!==i.error&&"function"==typeof i.error&&i.error(e,t,n);console.log("XHR ERROR "+e.status+": "+n);i.isadmin?alert("Server side error, please error log file for more details."):alert("Server side error, please refersh and try again.")}};!1!==i.before&&"function"==typeof i.before&&(r.beforeSend=i.before());!1!==i.complete&&"function"==typeof i.complete&&(r.complete=i.complete());t=i.isadmin?megaForms.ajax_admin_action:megaForms.ajax_public_action;n?i.data.append("action",t):i.data.action=t;if(n){i.data.append("callback",i.callback);r.contentType=!1;r.processData=!1}else i.data.callback=i.callback;r.data=i.data;jQuery.ajax(r)},serializeForm:(e,t=!0)=>{let n={},i=t?jQuery(e).find(":input").serializeArrayLoose():jQuery(e).find(":input").serializeArray();jQuery.each(i,function(){var e=this.value,e=function e(t,n){if(t.length<1)return n;let i=t[0];"]"==i.slice(-1)&&(i=i.slice(0,-1));var r={};if(1==t.length)r[i=""==i?n:i]=n;else{t.shift();t=e(t,n);r[i]=t}return r}(this.name.split("["),e);jQuery.extend(!0,n,e)});return n}};if("undefined"!=typeof window){window.megaForms=megaForms;if("admin"==window.megaForms.context){window.wp=window.wp||{};window.megaForms.hooks=window.wp.hooks.createHooks()||{}}if("undefined"!=typeof mfConditionalFields)window.megaForms.conditionalFields=mfConditionalFields;else{const mfConditionalFields=(l,e={})=>{switch(typeof l){case"string":l=document.querySelectorAll(l);break;case"object":if(!1===Array.isArray(l)&&Object.prototype.hasOwnProperty.call(l,"0")){l=Object.fromEntries(Object.entries(l).filter(([e,t])=>!isNaN(e)&&void 0!==t.elements));l=Object.values(l)}else l=Array.isArray(l)?l:[l]}let s=e.rules||"inline",t=e.dynamic||!1,f=e.unsetHidden||!1,m=e.disableHidden||!1,n=e.debug||!1,d=e.depth||3,c=[],u=[],i=[],p={initField:(r,o)=>{var a=r.getAttribute("data-conditional-rules");if(0<a.length){let e="container"in(a=JSON.parse(a))?a.container:"",t="action"in a?a.action:"show",n="logic"in a?a.logic:"or",i="rules"in a?a.rules:[];if(0<(i="object"==typeof i&&void 0===i.length?[i]:i).length){for(let t=0;i.length>t;t++)if("group"in i[t])for(let e=0;i[t].group.length>e;e++)"name"in i[t].group[e]&&!u[o].includes(i[t].group[e].name)&&u[o].push(i[t].group[e].name);else"name"in i[t]&&!u[o].includes(i[t].name)&&u[o].push(i[t].name);r.removeAttribute("data-conditional-rules");r.mfConditionalContainerSelector=e;r.mfConditionalAction=t;r.mfConditionalLogic=n;r.mfConditionalRules=i;r.mfConditionalFormIndex=o;p.updateField(r)}}},updateField:(e,t=1)=>{let i=e.mfConditionalFormIndex,n=e.mfConditionalAction,r=e.mfConditionalLogic,o=e.mfConditionalRules,a=!1;if(0<o.length)for(let n=0;o.length>n;n++){let t=!1;if("group"in o[n]){var s,l=o[n].relation||"and";for(let e=0;o[n].group.length>e;e++){if(0==(s=p.evaluateRule(o[n].group[e],i))&&"and"==l){t=!1;break}if(s&&"or"==l){t=!0;break}t=s}}else t=p.evaluateRule(o[n],i);if(!1===t&&"and"==r){a=!1;break}if(t&&"or"==r){a=!0;break}a=t}a||(n="hide"==n?"show":"show"==n?"hide":"disable"==n?"enable":"enable"==n?"disable":"none");p.toggleField(e,n,t)},toggleField:(e,t,n)=>{let i=e.mfConditionalFormIndex,r=e.name,o=e.mfConditionalContainerSelector,a=null;if(n<d&&u[i].includes(r)){var s=p.getDependantField(r,i);if(0<s.length)for(let e=0;s.length>e;e++)"hide"==t?p.toggleField(s[e],"hide",n++):"show"==t&&p.updateField(s[e],n++)}if("hide"==t){""==o?e.setAttribute("hidden",!0):(a=e.closest(""+o))&&a.setAttribute("hidden",!0);m&&e.setAttribute("disabled","disabled");f&&("checkbox"==e.type||"radio"==e.type?e.checked=!1:e.value="")}else if("disable"==t)e.setAttribute("disabled","disabled");else if("enable"==t)e.hasAttribute("disabled")&&e.removeAttribute("disabled");else if("show"==t){""==o?e.removeAttribute("hidden"):(a=e.closest(""+o))&&a.removeAttribute("hidden");m&&e.removeAttribute("disabled")}},getDependantField:(n,t)=>{var i=[];if(void 0!==c[t])for(let e=0;c[t].length>e;e++)if("mfConditionalRules"in c[t][e]){var r=c[t][e].mfConditionalRules.some(t=>{if("group"in t){for(let e=0;t.group.length>e;e++)if(t.group[e].name===n)return!0;return!1}return t.name===n});void 0!==r&&!1!==r&&i.push(c[t][e])}return i},evaluateRule:(r,o)=>{var a=r.name,s=r.operator,r=r.value;if(u[o].includes(a)){let t=l[o].querySelectorAll('[name="'+a+'"]'),e,n,i;if(0<t.length){"radio"!==(e=t[0].type)&&"checkbox"!==e&&(t=t[0]);if("radio"==e||"checkbox"==e){n=[];for(let e=0;e<t.length;e++){t[e].checked&&n.push(t[e].value);e===t.length-1&&(n=n.join("|"))}}else n=t.value;i=p.compareValues(s,n,r)}return i}return!1},compareValues:(e,t,n)=>{t=t?t.toString().toLowerCase():"",n=n?n.toString().toLowerCase():"";switch(e){case"is":return n===t;case"isnot":return n!==t;case"greaterthan":return!isNaN(n)&&!isNaN(t)&&Number(n)>Number(t);case"lessthan":return!isNaN(n)&&!isNaN(t)&&Number(n)<Number(t);case"contains":return t.includes(n);case"doesnotcontain":return!t.includes(n);case"beginswith":return t.startsWith(n);case"doesnotbeginwith":return!t.startsWith(n);case"endswith":return t.endsWith(n);case"doesnotendwith":return!t.endsWith(n);case"isempty":return""===t;case"isnotempty":return""!==t}return!1},updateForm:async(o,e="add")=>{if(void 0!==l[o])if("add"==e)try{let n;n=await new Promise((e,t)=>{let n=[];if("inline"==s)n=l[o].querySelectorAll("[data-conditional-rules]");else{for(let t=0;s.length>t;t++)if("field"in s[t]){var i=(i=l[o].elements[s[t].field])instanceof RadioNodeList?Array.from(i):[i];for(let e=0;i.length>e;e++)if(void 0!==i[e]){var r=i[e];r.setAttribute("data-conditional-rules",JSON.stringify(s[t]));n.push(r)}delete s[t].field}s=null}if(0<n.length){c[o]=c[o].concat(Array.prototype.slice.call(n));e(n)}else t("No conditional fields found on step 1")});await new Promise((t,e)=>{if(0<n.length)for(let e=0;n.length>e;e++){p.initField(n[e],o);e===n.length-1&&t()}else e("No conditional fields to initialize on step 2")});if(0<u.length)for(let e=0;u[o].length>e;e++)if(!i[o].includes(u[o][e])){let t=l[o].querySelectorAll('[name="'+u[o][e]+'"]');if(0===t.length&&0<(t=l[o].querySelectorAll('[type="checkbox"][name="'+u[o][e]+'[]"]')).length){var r=u[o][e],a=(u[o][e]=u[o][e]+"[]",p.getDependantField(r,o));if(0<a.length)for(let i=0;a.length>i;i++)if(0<a[i].mfConditionalRules.length){let n=!1;for(let t=0;a[i].mfConditionalRules.length>t;t++)if("group"in a[i].mfConditionalRules[t]){for(let e=0;a[i].mfConditionalRules[t].group.length>e;e++)if(a[i].mfConditionalRules[t].group[e].name==r){a[i].mfConditionalRules[t].group[e].name=r+"[]";n=!0}}else if(a[i].mfConditionalRules[t].name==r){a[i].mfConditionalRules[t].name=r+"[]";n=!0}n&&p.updateField(a[i])}}if(0<t.length){for(let e=0;t.length>e;e++){t[e].mfConditionalFormIndex=o;t[e].addEventListener("change",p.fieldListener,!1)}i[o].push(u[o][e])}t=null}return!0}catch(t){if(n){let e="formIndex: "+o;void 0!==l[o].getAttribute("id")&&(e="formId: "+l[o].getAttribute("id"));console.info(e+" => "+t)}}else if("remove"==e){c[o]=c[o].filter(e=>void 0!==l[o].elements[""+e.name]);u[o]=u[o].filter(e=>void 0!==l[o].elements[""+e]);i[o]=i[o].filter(e=>void 0!==l[o].elements[""+e]);return!0}return!1},fieldListener:e=>{var t=p.getDependantField(e.target.name,e.target.mfConditionalFormIndex);if(0<t.length)for(let e=0;t.length>e;e++)p.updateField(t[e])},formListener:e=>{var t=e.target.mfConditionalFormIndex,e=e.detail.action;p.updateForm(t,e)}};if("block"==s){e=document.getElementById("rules-mf-conditional-fields");s=JSON.parse(e.innerHTML)}if("inline"!==s&&"object"!=typeof s)return n&&console.warn("The supplied rules or rule type is not valid."),!1;if(!(0<l.length))return n&&console.warn("The supplied conditional form was not found"),!1;for(let e=0;l.length>e;e++){c.push([]);u.push([]);i.push([]);l[e].mfConditionalFormIndex=e;p.updateForm(e)}if(t)for(let e=0;l.length>e;e++)l[e].addEventListener("mfConditionalFormUpdated",p.formListener,!1)};window.megaForms.conditionalFields=mfConditionalFields}window.megaForms.maxLengthHandler=e=>{var t=e.value.length,n=parseInt(e.getAttribute("maxlength"));n<t?e.value=e.value.substring(0,n):e.closest(".mf_input_container").querySelector("#mf_char_num").textContent=t+"/"+n};"undefined"!=typeof jQuery&&(jQuery.fn.serializeArrayLoose=function(){var i=/\r?\n/g,t=/^(?:submit|button|image|reset|file)$/i,n=/^(?:input|select|textarea|keygen)/i,r=/^(?:checkbox|radio)$/i;return this.map(function(){var e=jQuery.prop(this,"elements");return e?jQuery.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!jQuery(this).is(":disabled")&&n.test(this.nodeName)&&!t.test(e)&&(this.checked||!r.test(e))}).map(function(e,t){var n=jQuery(this).val();null==n&&(n="");return Array.isArray(n)?jQuery.map(n,function(e){return{name:t.name,value:e.replace(i,"\r\n")}}):{name:t.name,value:n.replace(i,"\r\n")}}).get()})}!function(o,a,s){const l={formID:0,init:function(){this.forms=o(".single-mega-form");0<this.forms.length&&this.initActions()},initActions:function(){o(".single-mega-form").each(function(e){l.ajaxMaybeResetFormNonceValues(o(this))});l.initDatePicker()},initDatePicker:function(){void 0!==o.fn.datepicker&&o(".mform_fields").find(".datepicker-here").each(function(){var e={},t=o(this).attr("data-date-from"),n=o(this).attr("data-date-to");e.language="en";e.minDate=t?new Date(t+"-01-01"):new Date;if(n)e.maxDate=new Date(n+"-12-31");else{e.maxDate=new Date;e.maxDate.setFullYear(e.maxDate.getFullYear()+9)}o(this).datepicker(e)})},getCookie:function(t){t+="=";var n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){var i=n[e].trim();if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},setCookie:function(e,t,n){n=new Date(1e3*n).toUTCString();document.cookie=e+"="+encodeURIComponent(t)+"; expires="+n+"; path=/; secure; samesite=strict"},ajaxMaybeResetFormNonceValues:function(t){var e=o(t).attr("data-id");if(void 0!==e&&""!==e){var n=this.getCookie(s.cookie),i=n?n.split("||")[0]:null,r=s.sid;n&&i===r?o(t).removeClass("mf-mask"):a.ajax({data:{form_id:e},isadmin:!1,callback:"get_form_nonce_values",success:function(e){if(a.dev_env){console.log("%cSuccess","color: green; background: yellow; font-size: 20px");console.log(e)}o(t).find('input[name="_mf_referrer"]').val(e.form_referrer);o(t).find('input[name="_mf_nonce"]').val(e.form_token);o(t).find('input[name="_mf_extra_nonce"]').val(e.wp_nonce);l.setCookie(s.cookie,e.cookie_value,e.cookie_expiration);o(t).removeClass("mf-mask")},fail:function(e){console.log("%cFail","color: red; background: yellow; font-size: 20px");console.log(e);o(t).removeClass("mf-mask")}})}}};o(window).load(function(){l.init()})}(jQuery,megaForms,mfVars);!function(c,u){const p={forms:null,filters:{},isFormSubmitProcessing:!1,skipFormSubmitHandler:!1,add_filter:function(e,t){this.filters[e]||(this.filters[e]=[]);this.filters[e].push(t)},apply_filter:async function(t,e,n={}){if(this.filters[t])for(var i of this.filters[t])try{var r=await i(e,n);void 0!==r&&(e=r)}catch(e){console.error(`Error in ${t} filter callback:`,e)}return e},init:function(){this.forms=c(".single-mega-form");if(0<this.forms.length){this.initEvents();this.initActions()}},initEvents:function(){c(document).on("click",".mf-submit-btn, .mf-save-btn, .mf-prev-btn, .mf-next-btn",function(e){e.currentTarget.classList.contains("mf-submit-btn")?p.submitForm.apply(this,[e]):e.currentTarget.classList.contains("mf-save-btn")?p.saveForm.apply(this,[e]):e.currentTarget.classList.contains("mf-prev-btn")?p.prevFormPage.apply(this,[e]):e.currentTarget.classList.contains("mf-next-btn")&&p.nextFormPage.apply(this,[e])});c(document).on("keydown",".mform_page input",async function(e){if(13==(e.keyCode||e.which)){e.preventDefault();var t=c(this).closest(".mform_page"),n=c(t).closest("form"),i=c(t).find(".mf-next-btn"),r=c(n).hasClass("ajax-mega-form");if(0<i.length)c(n).hasClass("ajax-mega-form")?p.nextFormPage.apply(i,[e]):c(i).click();else{i=c(t).find(".mf-submit-btn");r?p.submitForm.apply(i,[e]):c(i).click()}}});0<c('input[name="_mf_auto_advance"]').length&&0<c(".ajax-mega-form").length&&c(document).on("change",".mform_page input, .mform_page select, .mform_page textarea",function(){var e=c(this).closest(".mform_page"),t=c(e).closest("form"),n=parseInt(c(t).find('[name="_mf_current_page"]').val()),t=c(t).find('input[name="_mf_auto_advance"]').val();if(t&&("all"===t||t.split(",").includes(n.toString())))if(0===c(e).find("input, select, textarea").filter(function(){return""===this.value}).length){t=c(e).find(".mf-next-btn");0<t.length&&p.nextFormPage.apply(t,[new c.Event("click")])}})},initActions:function(){u.conditionalFields(this.forms,{disableHidden:!0,debug:u.dev_env})},prevFormPage:function(e){var t,n=c(this).closest(".mform_page"),i=c(n).closest("form");if(0<n.length){e.preventDefault();e=c(n).prev(".mform_page");t=parseInt(c(i).find('[name="_mf_current_page"]').val())-1;c(n).hide();c(e).show();p.updateProgressIndicator(c(e).closest("form"),t);c(i).find(".mform_response_msg").empty().addClass("mf_hidden");c(i).find(".mf-notice-holder").remove();c(i).find(".mf_input_error").removeClass("mf_input_error");c(i).find(".mf_compound_error").removeClass("mf_compound_error");c(i).find(".mf_sub_input_error").removeClass("mf_sub_input_error")}},nextFormPage:function(e){var t=c(this).closest(".ajax-mega-form");if(0<t.length){e.preventDefault();e=u.serializeForm(t);p.ajaxSubmitForm(t,e,"page",{page:e._mf_current_page})}},saveForm:function(e){var t=c(this).closest(".ajax-mega-form");if(0<t.length){e.preventDefault();e=u.serializeForm(t);p.ajaxSubmitForm(t,e,"save")}},submitForm:function(e){if(p.isFormSubmitProcessing)e.preventDefault();else{if(p.skipFormSubmitHandler)return!(p.skipFormSubmitHandler=!1);e.preventDefault();e.stopPropagation();p.isFormSubmitProcessing=!0;const t=c(this).closest("form"),n=t.hasClass("ajax-mega-form"),i=c(this);(async()=>{await u.do_action("beforeFormSubmit",{form:t[0],isAjax:n});if(n){var e=u.serializeForm(t);p.ajaxSubmitForm(t,e);p.isFormSubmitProcessing=!1}else{p.skipFormSubmitHandler=!0;p.isFormSubmitProcessing=!1;c(i).click()}})()}},updateProgressIndicator:function(e,n){var t=c(e).find(".mform_pages_progress_indicator");if(0<t.length)if(0==n)c(t).remove();else if(c(t).hasClass("mform_progress_bar")){var i=c(t).find(".mf_progressbar_percentage"),r=c(i).attr("data-count")||c(e).find(".mform_page").length,r=parseInt(n)/parseInt(r)*100;c(i).css("width",r+"%");c(i).find("span").text(parseInt(r)+"%");c(i).removeClass(function(e,t){return(t.match(/percentbar_\d{1,3}/g)||[]).join(" ")});c(i).addClass("percentbar_"+parseInt(r))}else if(c(t).hasClass("mform_steps")){i=c(t).find(".mf_step");c(i).each(function(e){var t=c(this).attr("data-number")||c(this).find(".mf_step_number").text(),t=parseInt(t);c(this).removeClass("mf_step_active mf_step_pending mf_step_completed");t==n?c(this).addClass("mf_step_active"):n<t?c(this).addClass("mf_step_pending"):c(this).addClass("mf_step_completed")})}c(e).find('[name="_mf_current_page"]').val(n)},isVisible:function(e){var t=c(e).offset().top,e=t+c(e).outerHeight(),n=c(window).scrollTop(),i=n+c(window).height();return n<e&&t<i},maybeGetFileInputs:function(e){let t={},n=jQuery(e).find('[type="file"].mf-upload');0<n.length&&jQuery.each(n,function(){!this.hasAttribute("multiple")&&0<this.files.length&&(t[this.name]=this.files[0])});return t},ajaxSubmitForm:async function(a,e,s="",t={}){let l=Object.prototype.hasOwnProperty.call(e,"_mf_form_id")?e._mf_form_id:"";if(void 0!==l&&""!==l){let n={form_id:l,posted_data:e,context:s,args:t},i=!1,r=!1,o=!1;if("page"==s||"save"==s){o=t.page||e._mf_current_page;r=c(a).find(".mform_page_"+o);i="page"==s?c(r).find(".mf-next-btn"):c(r).find(".mf-save-btn")}else i=c(a).find('[name="mform_submit"]');c(a).addClass("mf-mask");c(i).addClass("mf-submit-processing").append('<span class="mf-dots-spinner"> <i class="mf-dot"></i> <i class="mf-dot"></i> <i class="mf-dot"></i> </span>');n.posted_data=await u.apply_filter("ajaxSubmissionPostedData",n.posted_data,{form:a[0],formId:l,button:i[0],context:s});var f=p.maybeGetFileInputs(a);if(0<Object.keys(f).length){let e=new FormData,t=!1;n.args.refresh_fields=[];for(var m in f){e.append(m,f[m]);n.args.refresh_fields.push(m)}for(var d in n)if("object"==typeof n[d]){t=!0;e.append(d,JSON.stringify(n[d]))}else e.append(d,n[d]);e.append("has_json",t);n=e}u.ajax({data:n,isadmin:!1,callback:"submit_form",success:function(t){if(u.dev_env){console.log("%cSuccess","color: green; background: yellow; font-size: 20px");console.log(t)}if("redirect"in t)window.location.href=t.redirect;else{c(a).removeClass("mf-mask");c(i).removeClass("mf-submit-processing");c(i).find(".mf-dots-spinner").remove();if("page"==s){c(a).find(".mform_response_msg").empty().addClass("mf_hidden");c(a).find(".mf-notice-holder").remove();c(a).find(".mf_input_error").removeClass("mf_input_error");c(a).find(".mf_compound_error").removeClass("mf_compound_error");c(a).find(".mf_sub_input_error").removeClass("mf_sub_input_error");var e=c(r).next(),n=parseInt(o)+1;c(r).hide();c(e).show();p.updateProgressIndicator(a,n)}else{c(a).find(".mform_response_msg").empty().removeClass("mf_hidden").append(t.message);c(a).find(".mf-notice-holder").remove();c(a).find(".mf_input_error").removeClass("mf_input_error");c(a).find(".mf_compound_error").removeClass("mf_compound_error");c(a).find(".mf_sub_input_error").removeClass("mf_sub_input_error");if("keep_form"in t&&!1!==t.keep_form){c(a).find(":input").each(function(e,t){c(t).attr("name").startsWith("_mf_")||c(t).val("")});c(a).find(":checked").prop("checked",!1)}else if(0<c(a).find(".mform_pages").length)c(a).find(".mform_pages").remove();else{c(a).find(".mform_body").remove();c(a).find(".mform_footer").remove()}}"hideProgressIndicator"in t&&t.hideProgressIndicator&&p.updateProgressIndicator(a,!1);if("refreshedFields"in t&&t.refreshedFields){let e=t.refreshedFieldsContainer||".mform_container",n=c(a).closest(e);n&&Object.entries(t.refreshedFields).forEach(([e,t])=>{n.find(e).each(function(){c(this).replaceWith(t)})})}if("scrollTop"in t&&t.scrollTop&&!p.isVisible(c(a).find(".mform_header"))){let e="html, body";"string"==typeof t.scrollTop&&0<c("response.scrollTop").length&&(e=t.scrollTop);c(e).animate({scrollTop:c(a).find(".mform_header").offset().top-80},500)}}},fail:function(t){if(u.dev_env){console.log("%cFail","color: red; background: yellow; font-size: 20px");console.log(t)}c(a).removeClass("mf-mask");c(i).removeClass("mf-submit-processing");c(i).find(".mf-dots-spinner").remove();c(a).find(".mform_response_msg").empty().removeClass("mf_hidden").append(t.message);c(a).find(".mf-notice-holder").remove();c(a).find(".mf_input_error").removeClass("mf_input_error");c(a).find(".mf_compound_error").removeClass("mf_compound_error");c(a).find(".mf_sub_input_error").removeClass("mf_sub_input_error");"notices"in t&&0<Object.keys(t.notices).length&&Object.entries(t.notices).forEach(([t,n])=>{var i=c(a).find('[name="'+t+'"]');if(0<c(i).length){i=c(i).closest(".mf_input_container");c(i).append(n);c(i).addClass("mf_input_error")}else{i=c(a).find('[name^="'+t+'["]');let e=null;if(0<c(i).length)e=c(i).closest(".mf_input_container");else{i=t.replace(/.*mfield_/,""),t=c(a).find("#mf_"+l+"_field_"+i);e=c(t).find(".mf_input_container")}e.append(n);e.addClass("mf_input_error")}});"compound_notices"in t&&0<Object.keys(t.compound_notices).length&&Object.entries(t.compound_notices).forEach(([r,e])=>{0<Object.keys(e).length&&Object.entries(e).forEach(([e,t])=>{var e=c(a).find('[name="'+r+"["+e+']"]'),n=c(e).parent(".mf_sub_field"),i=c(e).closest(".mf_input_container");c(e).after(t);c(n).addClass("mf_sub_input_error");c(i).addClass("mf_compound_error")})});"refreshedFields"in t&&t.refreshedFields&&c.each(t.refreshedFields,function(e,t){c(e).replaceWith(t)});if("scrollTop"in t&&t.scrollTop&&!p.isVisible(c(a).find(".mform_header"))){let e="html, body";"string"==typeof t.scrollTop&&0<c("response.scrollTop").length&&(e=t.scrollTop);c(e).animate({scrollTop:c(a).find(".mform_header").offset().top-80},500)}}})}}};u.publicPro=p;c(window).load(function(){p.init()});p}(jQuery,megaForms,mfVars);